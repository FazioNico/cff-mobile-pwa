<!-- {{connection?.sections[0]?.journey?.category}} -->
<ion-grid>
  <ion-row>
    <ion-col  col-3>
      <div class="icon-type">
        <svg viewBox="0 0 20 20" width="100%" height="100%"><path d="M15.3 13.7c.2 0 .3-.1.3-.3l-.3-1.9h-3.2v2.2h3.2zM8.6 4.2L10.3 3 8 1.7 5.7 3l1.8 1.2h1.1zm3.3 3.3c0 .2.1.3.3.3h1.6c.2 0 .3-.1.3-.3l-.3-2.4c0-.2-.2-.3-.3-.3h-1.3c-.2 0-.3.1-.3.3v2.4zM7.7 4.8H.5v-.6h5.9L4.5 3 8 1l3.5 2-1.9 1.2h3.8c.5 0 .9.3.9.8l.8 5.9H.5V7.8h7.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H.5v-.6h7.2c.2 0 .3-.1.3-.3S7.9 6 7.7 6H.5v-.6h7.2c.2 0 .3-.1.3-.3 0-.1-.1-.3-.3-.3zM4.5 13c0-.9.7-1.6 1.6-1.6s1.6.7 1.6 1.6-.7 1.6-1.6 1.6c-.9 0-1.6-.7-1.6-1.6m3.7 0c0-.9.7-1.6 1.6-1.6s1.6.7 1.6 1.6-.7 1.6-1.6 1.6-1.6-.7-1.6-1.6M.5.8h15V.5H.5v.3zm0 14.7h15v-.6H.5v.6zm0-3.9l3.4-.1v2.2H.5v-2.1z" transform="translate(2 2)" id="sbb_oev_b_t02"></path></svg>
      </div>
      <div [ngClass]="{'icon-cat': true, 'white': (connection.legs[0].line === 'RE')}">
        <svg viewBox="0 0 59 20" width="100%" height="100%">
          <path [attr.d]="connection.legs[0].line|connectionCatIcon"></path>
        </svg>
      </div>
    </ion-col>
    <ion-col col-7>
      <p text-center>
        Direction {{connection?.legs[0].terminal || '-'}}
      </p>
    </ion-col>
  </ion-row>

  <ion-row>
      <ion-col col-3>{{connection.legs[0].departure|moment:'H:mm'}}</ion-col>
      <ion-col>
        <!-- {{ connection.legs[0].stops.length|json}} -->
        <ol class="mod_timetable_pearl_chain">
          <li class="mod_timetable_pearl_chain_stop"></li>
          <li *ngFor="let stop of connection.legs[0].stops" class="mod_timetable_pearl_chain_stop" style="width: 50%"></li>
          <li *ngIf="connection.legs[0].stops.length>0;else noStop" class="mod_timetable_pearl_chain_stop" style="width: 50%"></li>
          <ng-template #noStop>
            <li class="mod_timetable_pearl_chain_stop" style="width: 100%"></li>
          </ng-template>
        </ol>
      </ion-col>
      <ion-col col-2>{{connection.legs[1].arrival|moment:'H:mm'}}</ion-col>
  </ion-row>

  <ion-row>
    <ion-col col-3>
      <p>
        Voie {{connection?.legs[0].track || '-'}}
      </p>
    </ion-col>
    <ion-col>
      <p>{{connection?.duration|moment:'H:mm':true}}min</p>
    </ion-col>
  </ion-row>
</ion-grid>
